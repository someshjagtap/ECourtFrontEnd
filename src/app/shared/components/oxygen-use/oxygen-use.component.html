<form [formGroup]="appraisalApplyForm" class="">
  <form [formGroup]="appraisalApplyForm" class="">
    <div style="text-align: center;">
      <h2> Details of Oxygen Use </h2>
    </div>

    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">
      <div fxFlex="04" style="text-align: center;">
        <h3>Sr.No</h3>
      </div>
      <div fxFlex="7">
        <h3>Device</h3>
      </div>
      <div fxFlex="7">
        <h3>Lit/Min</h3>
      </div>
      <div fxFlex="13">
        <h3>No. of Patients</h3>
      </div>
      <div  fxFlex="13" style="text-align: center; word-wrap: break-word;">
        <h3>Total Consumption Lit/min</h3>
      </div>
      <div fxFlex="13" style="text-align: center; word-wrap: break-word;">
        <h3>Total Consumption Lit/Day</h3>
      </div>
      <div fxFlex="13" style="text-align: center; word-wrap: break-word;">
        <h3>Total Consumption KL/Day 6/1000</h3>
      </div>
      <div fxFlex="13" style="text-align: center; word-wrap: break-word;">
        <h3>Total Consumption in Ton</h3>
      </div>
    </div>
    &nbsp;

    <div formArrayName="oxygenUseTableForm">
      <div
           *ngFor="
            let oxygenUseTableForm of appraisalApplyForm.get('oxygenUseTableForm')['controls'];
            let i = index
          ">
        <form [formGroup]="oxygenUseTableForm" (ngSubmit)="submitApplyAppraisal(oxygenUseTableForm.value)">
          <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">
            <mat-label fxFlex="4" style="text-align: center;">{{ i + 1 }}</mat-label>

            <mat-label style = "justify-content: center; align-items: center;" fxFlex="7">{{ data[i].description }}</mat-label>
            <mat-label style = "justify-content: center; align-items: center;" fxFlex="7">{{ data[i].descriptionParameter }}</mat-label>
            <mat-form-field fxFlex="13" appearance="outline">
              <input
                     matInput
                     class="form-control"
                     id="noofPatients_{{ i }}"
                     placeholder="No. of Patients"
                     formControlName="noofPatients"
                     type="number" positivenumber
                     min = "0"
                     required
                     [readonly]= "crudOperation=='view'"
                     [crudOperation]="crudOperation=='view'" />

            </mat-form-field>

            <mat-form-field fxFlex="13" appearance="outline">
              <input
                     matInput
                     class="form-control"
                     id="consumptionLitperMin_{{ i }}"
                     placeholder="Lit/min"
                     formControlName="consumptionLitperMin"
                     type="number" positivenumber
                     min = "0"
                     maxlength="10"
                     required
                     [readonly]= "crudOperation=='view'"
                     [crudOperation]="crudOperation=='view'" />

            </mat-form-field>

            <mat-form-field fxFlex="13" appearance="outline">
              <input
                     matInput
                     class="form-control"
                     id="consumptionLitperDay_{{ i }}"
                     placeholder="Lit/Day"
                     formControlName="consumptionLitperDay"
                     type="number" positivenumbers
                     min = "0"
                     required
                     [readonly]= "crudOperation=='view'"
                     [crudOperation]="crudOperation=='view'" />

            </mat-form-field>

            <mat-form-field fxFlex="13" appearance="outline">
              <input
                     matInput
                     class="form-control"
                     id="consumptionKLitperDay_{{ i }}"
                     placeholder="KL/Day 6/1000"
                     formControlName="consumptionKLitperDay"
                     type="number" positivenumbers
                     min = "0"
                     required
                     [readonly]= "crudOperation=='view'"
                     [crudOperation]="crudOperation=='view'" />

            </mat-form-field>

            <mat-form-field fxFlex="13" appearance="outline">
              <input
                     matInput
                     class="form-control"
                     id="consumptionTotal_{{ i }}"
                     placeholder="Consumption in Ton"
                     formControlName="consumptionTotal"
                     type="number" positivenumbers
                     min = "0"
                     required
                     [readonly]= "crudOperation=='view'"
                     [crudOperation]="crudOperation=='view'" />

            </mat-form-field>
          </div>
        </form>
      </div>
    </div>
    <div>
      <button
              *ngIf="crudOperation !='view'"
              mat-raised-button
              type="button"
              (click)="onClick(appraisalApplyForm.value)"
              color="primary"
              [disabled]="(appraisalApplyForm.invalid && isSaving) || hasDone">
        Submit Data
      </button>&nbsp;&nbsp;

    </div>
  </form>
</form>
